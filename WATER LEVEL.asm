ORG 00H
MOV P2,#00H
MOV P1,#11100000B
MOV P3,#00H
JB P1.0, RUNNING
JNB P1.2, LO
JB P1.1, M

RUNNING:
MOV P2,#00H
MOV P3,#76H
JB P1.0, RUNNING
MOV P3,#01000000B

RUNNINGM:
MOV P3,#01000000B
SETB P2.7
JB P1.1, RUNNINGM

RUNNINGL:
MOV P3,#38H
JB P1.2, RUNNINGL
SETB P2.6
CLR P2.7
MOV P3,#00111111B
SJMP LO

M:
MOV P3,#01000000B
JNB P1.1, M

LO:
SETB P2.6
MOV P3,#00111111B
JNB P1.2, LO
MOV P3,#38H

MIDDLE:
SETB P2.7
JNB P1.1, MIDDLE
MOV P3,#01000000B

HIG:
SETB P2.6
JNB P1.0, HIG
CLR P2.7
CLR P2.6
LJMP RUNNING
END